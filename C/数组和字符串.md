# 数组和字符串

## 概述

在程序设计中，为了方便处理数据把具有相同类型的若干变量按有序形式组织起来，称为数组。

数组就是在内存中连续的相同类型的变量空间。

同一个数组所有的成员都是相同的数据类型，同时所有的成员在内存中的地址是连续的。

通过下标访问数组的元素，下标从0开始。

数组属于构造数据类型：

- 一个数组可以分解为多个数组元素，这些数组元素可以使基本数据类型或构造类型。
- 按数组元素类型的不同，数组可分为
  - 数值数组
  - 字符数组
  - 指针数组
  - 结构数组

## 一维数组

### 一维数组的定义

```c
#include <stdio.h>
#define SIZE 10
/*
1、同一个作用域内部，数组名不能和其它变量、其它数组名同名
2、定义数组时，[]内最好是常量,可以先用宏定义常量,不要用变量
3、使用数组，最好不要越界(下标超过定义)
*/
int main(){
    int a[10];   //数组的定义
    int b[SIZE];   //使用宏定义的常量定义数组
    b[0] = 1;   // b[10]就是越界了
    return 0;
}
```

### 一维数组的初始化

```c
#include <stdio.h>
/*
1、数组的初始化需要{}
2、只有在定义时才能初始化
3、数组名不是变量，是常量，不能修改
4、部分初始化，其它自动初始化为0
5、如果定义时同时初始化，[]内部可以不写内容，编译器会根据用户初始化的元素来确定数组的大小
6、如果[]内部不写内容，则必须初始化，否则语法错误。
7、数组不初始化，值为随机数
*/
int main(){
    int a[10] = {1,2,3,4,5,6,7,8,9,10};
    int b[6] = {1,2,3}; //前三个为1，2，3，剩下三个都是0
   	int c[6] = {0};   //数组全部元素初始化为0
    int d[] = {2,5,7,10};  // 自动确定数组的大小为4
    return 0;
}
```

### 数组名

- 数组名是常量，不能修改
- 数组名是数组首元素地址
- sizeof(数组名)测数组总大小
- 元素个数：总大小/某个元素大小

```c
#include <stdio.h>

int main(){
    int a[10];
    int n = sizeof(a)/sizeof(a[0]);  //获取数组中元素的个数
    return 0;
}
```

### 强化训练

#### 一维数组的最值

##### 求多个数的最值

```c
#include <stdio.h>

int main(){
	int a = 80;
	int b = 20;
	int c = 30;
	int max;
	max = (a>b?a:b)>c?(a>b?a:b):c;
	printf("%d",max);
	return 0;
}
```

##### 求一维数组的最值

```c
#include <stdio.h>

int main(){
    int a[] = {10,8,25,34,3,26,90,54};
    int len = sizeof(a)/sizeof(a[0]);
    int max= a[0];
    for(int i = 1;i < len;i++){
        if(max<a[i]){
            max = a[i];
        }
    }
    printf("%d",max);
    return 0;
}
```

#### 一维数组的逆置

```c
#include <stdio.h>

int main(){
    int a[] = {1,2,3,4,5,6,7,8,9};
    int len = sizeof(a)/sizeof(a[0]);
    int i = 0;
	int j = len -1;
	int tmp;
	while(i<j){
		tmp = a[i];
		a[i] = a[j];
		a[j] = tmp;
		i++;
		j--;
	}
	for(int i = 0;i<len;i++){
		printf("%d\n",a[i]);
	}
    return 0;
}
```

#### 冒泡法排序

```c
#include <stdio.h>

int main(){
    int a[] = {9,6,4,3,5,2,8,1,7};
    int len = sizeof(a)/sizeof(a[0]);
    int i = 0;
	int j = 0;
	int tmp;
	for(i=0;i<len-1;i++){
		for(j=0;j<len-1-i;j++){
			if(a[j]>a[j+1]){
				tmp = a[j];
				a[j] = a[j+1];
				a[j+1] = tmp;
			}
		}
	}
	
	for(int i = 0;i < len;i++){
		if(i == len-1){
			printf("%d",a[i]);
		}else{
			printf("%d,",a[i]);
		}
	}
	printf("\n");
    return 0;
}
```

## 二维数组

- 有多少[ ]就有多少维
- 内存中没有多维，只有一维
- 多维数组是特殊的一维数组
- 多维数组就是一维数组中的元素也是数组
- 二维数组，用户可以理解为m行n列

### 二维数组的定义和使用

```c
#include <stdio.h>

int main(){
    int a[3][4];
    int i = 0;
    int j = 0;
    int num = 0;
    for(i=0;i<3;i++){
        for(j=0;j<4;j++){
            a[i][j] = num;
            num++;
        }
    }
    for(i=0;i<3;i++){
        for(j=0;j<4;j++){
            printf("%d ",a[i][j]);
        }
        printf("\n");
    }
    printf("\n");
    return 0;
}
```

### 二维数组的初始化

```c
#include <stdio.h>
/*
1、如果定义时，同时初始化，第一个[]内部可以不写内容
2、初始化的时候，没有初始化的元素会自动赋值为0
3、不初始化，则元素的值为随机数
*/
int main(){
    int c[3][4] = {0}; //所有元素初始化为0
    int a[3][4] = {   //第一种初始化方法
        {1,2,3,4},
        {5,6,7,8},
        {9,10,11,12}
    };
    for(int i=0;i<3;i++){
        for(int j=0;j<4;j++){
            printf("%d ",a[i][j]);
        }
        printf("\n");
    }
    printf("\n");
    
    int b[3][4] = {1,2,3,4,5,6,7,8,9,10,11,12}; //第二种初始化方法
    for(int i=0;i<3;i++){
        for(int j=0;j<4;j++){
            printf("%d ",b[i][j]);
        }
        printf("\n");
    }
    printf("\n");
    
    return 0;
}
```

### 数组名

```c
#include <stdio.h>

int main(){
    /*
    1、数组名是常量，不能修改
    2、sizeof(数组名),测数组的总大小
    3、sizeof(a[0]),测的是第0个元素的大小
    4、sizeof(a[0][0]),测的是第0行第0列元素的大小
    5、求行数：sizeof(a)/sizeof(a[0])
    6、求列数：sizeof(a[0])/sizeof(int)
    7、行*列：sizeof(a)/sizeof(int)
    */
    return 0;
}
```

### 强化训练

```c
#include <stdio.h>
/*
求5个学生，语文、数学、英语的平均分
*/
int main(){
    int a[5][3] = {
        {30,60,80},
        {60,50,70},
        {20,50,70},
        {40,55,85},
        {30,25,75}
    };
	
	int sum = 0;
	int i = 0;
	int j = 0;
	for(i=0;i<3;i++){
		sum = 0;
		for(j=0;j<5;j++){
			sum = sum + a[j][i];
		}
		printf("平均分:%lf\n",sum/5.0);
	}
    return 0;
}
```

## 字符数组与字符串

### 字符数组与字符串

- C语言没有字符串类型
- 字符串是用字符数组模拟的
- 字符串一定是字符数组
- 字符数组不一定是字符串
- 如果字符数组以字符 '\0' 结尾的，那么这个字符数组就是字符串
- '\0'和0是等价的

```c
#include <stdio.h>

int main(){
    char a[10];
    char b[] = {'a','b','c'};   //字符数组
    char c[10] = {'a','b','c','\0'};   //字符串
    char d[10] = {'a','b','c',0};   //字符串
    return 0;
}
```

### 字符串的初始化

```c
#include <stdio.h>
/*
'\0'后面最好别跟数字，有可能组成一个转义字符
sizeof()测数据类型大小，不会因为结束符提前结束
*/
int main(){
    char a1[] = {'a','b','c'};
    printf("a1 = %s",a1);  // %s打印所有的字符直到遇到结束符'\0'或者0
    char a2[] = {'a','b','c','d',0};
    printf("a2 = %s",a2);
    char a3[] = "abc"; //常用的初始化，使用字符串初始化，在字符串结尾自动加结束符，这个结束符，用户看不到，但是是存在的。
    return 0;
}
```

### 字符串的输入输出

```c
#include <stdio.h>

int main(){
    char a[100];
    scanf("%s",a);  //没有&,因为数组名是首元素地址，本来就是地址
    printf("a = %s\n",a);
    return 0;
}
```

### 强化训练：字符串追加

### 函数的调用：产生随机数

调用函数时，需要关心5要素

1. 头文件：包含指定的头文件
2. 函数名字：函数名字必须和头文件声明的名字一样
3. 功能：需要知道函数的功能后才调用
4. 参数：参数类型要匹配
5. 返回值：根据需要接收返回值

```c
#include <stdio.h>
#include <stdlib.h>
#include <time.h>

int main(){
	//先设置种子，种子设置一次即可
	//如果srand()参数一样，随机数就一样
	//time(NULL)：获取系统当前时间，由于时间会变，srand()也会改变
    srand((unsigned int)time(NULL));
    int i = 0;
    int num;
    for(i=0;i<10;i++){
        num = rand();   //rand()产生随机数
        printf("num = %d\n",num);
    }
    return 0;
}
```

### 字符串处理函数

1. gets()
2. fgets()
3. puts()
4. fputs()
5. strlen()
6. strcpy()
7. strncpy()
8. strcat()
9. strncat()
10. strcmp()
11. strncmp()
12. sprintf()
13. sscanf()
14. strchr()